class JNode extends Array{constructor(){return super(),new Proxy(this,{get:function(e,n){if("then"!==n)return n in e?e[n]:JMain.loadModuleByFunction(n,!1)}})}add(e,n=null){const t=[];if("string"==typeof e)if("<"!==e.trim().substr(0,1)){const o=null!==n&&"boolean"!=typeof n?(new JNode).add(n):[document];for(const i of o)if("boolean"==typeof n&&n){if(t.push.apply(t,[i.querySelector(JMain._internal.fixSelector(e))]),t.length)break}else t.push.apply(t,Array.from(i.querySelectorAll(JMain._internal.fixSelector(e))))}else t.push.apply(t,[...JMain.parseHTML(e)]);else e instanceof NodeList||e instanceof HTMLCollection||e instanceof JNode?t.push.apply(t,Array.from(e)):e instanceof Node&&t.push.apply(t,[e]);return Array.prototype.push.apply(this,t),this}async delay(e){return await new Promise((n=>setTimeout(n,e))),this}each(e){for(const[n,t]of this.entries())e.call(t,n);return this}eq(e){if(e<0){if(this.length>=-1*e)return(new JNode).add(this[this.length+e])}else if(this.length>=e)return(new JNode).add(this[e]);return new JNode}}function JMain(e,n=!1){const t=new JNode;return e&&t.add(e,n),t}async function jqre(e=[]){JMain._internal.moduleList=["node","dom","navigation","event","shortevent","misc","ajax","reactive","autocomplete","dialog"],JMain._internal.moduleDepedencies={dom:["event"],shortevent:["event"],reactive:["navigation","event"],autocomplete:["node","dom","navigation","event","misc"],dialog:["node","dom","navigation","event"]},JMain._internal.moduleLoaded=[],JMain.addModule=function(e){JMain._internal.moduleList.includes(e)||JMain._internal.moduleList.push("name")},JMain.loadModule=async function(e){if(!JMain._internal.moduleLoaded.includes(e)){if(JMain._internal.moduleLoaded.push(e),JMain._internal.moduleDepedencies[e])for(const n of JMain._internal.moduleDepedencies[e])await JMain.loadModule(n);await import("./jqre."+e+".js")}},JMain.loadModuleByFunction=async function(e,n){if(n){const n={dom:["baseManipution"],ajax:["ajax","get","getJSON","param","post","ajaxBase"],event:["touchPounch","eventHandler","runEventShorthand"],misc:["clone","contains","data","each","fn","inArray","isArray","isEmptyObject","isFunction","isNumeric","isPlainObject","makeArray","noop","now"],reactive:["r"]};for(const t in n)if(n[t].includes(e)){await JMain.loadModule(t);break}return}const t={node:["addClass","removeClass","toggleClass","hasClass","attr","removeAttr","data","removeData","prop","removeProp","val","css","height","width","innerHeight","innerWidth","outerHeight","outerWidth","show","hide","toggle"],dom:["after","insertAfter","before","insertBefore","append","appendTo","prepend","prependTo","replaceWith","replaceAll","clone","wrap","remove","empty","html","runScripts","text"],navigation:["children","closest","parent","unique","next","prev","first","last","find","filter","even","odd","has","is","not","index"],ajax:["load","serialize","serializeArray"],event:["off","on","swipe","trigger"],shortevent:["blur","change","click","contextmenu","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","ready","resize","scroll","submit","select"],misc:["get","size","slice","toArray","scrollLeft","scrollTop"],autocomplete:["autocomplete"],dialog:["dialog"]};for(const n in t)t[n].includes(e)&&await JMain.loadModule(n)},1===e.length&&"all"===e[0]&&(e=JMain._internal.moduleList);for(const n of e)await JMain.loadModule(n);return new Proxy(JMain,{get:function(e,n){if("then"!==n)return n in e?e[n]:"_internal"===n?JMain.loadModule(["dom","ajax","event"]):"r"===n?JMain.loadModule(["reactive"]):"fn"===n?JMain.loadModule(["misc"]):JMain.loadModuleByFunction(n,!0)}})}JMain.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},JMain.parseHTML=function(e){const n=(new DOMParser).parseFromString(e,"text/html").body;return e.includes("<body")?[n]:n.childNodes},JMain.parseJSON=function(e){return JSON.parse(e)},JMain.toCamelCase=function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},JMain._internal={JNode:JNode,getComputedCss:function(e,n){if(!(e instanceof JNode))return document.defaultView.getComputedStyle(e)[JMain.toCamelCase(n)];for(const t of e)return document.defaultView.getComputedStyle(t)[JMain.toCamelCase(n)];return""},fixSelector:function(e){return">"===e.trim().substr(0,1)?":scope "+e:e},VERSION:"2.0.0"};export{JNode,JMain,jqre};