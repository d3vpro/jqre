import{JNode,JMain}from"./jqre.js";JNode.prototype.addClass=function(t){return this.toggleClass(t,!0)},JNode.prototype.removeClass=function(t){return this.toggleClass(t,!1)},JNode.prototype.toggleClass=function(t,e=null){let n="toggle";if(null!==e&&(n=e?"add":"remove"),"string"==typeof t&&(t=t.split(" ")),Array.isArray(t))for(const e of this)for(const o in t)e.classList[n](t[o]);else if("function"==typeof t)for(const[e,o]of this.entries()){let i=t.call(o,e,o.className);"string"==typeof i&&(i=i.split(" "));for(const t in i)o.classList[n](i[t])}return this},JNode.prototype.hasClass=function(t){for(const e of this)return e.classList.contains(t);return!1},JNode.prototype.attr=function(t,e=null){for(const[n,o]of this.entries())if("string"==typeof t){if(null===e)return o.getAttribute(t);"function"==typeof e?o.setAttribute(t,e(n,o.getAttribute(t))):o.setAttribute(t,e)}else if(t instanceof Object)for(const e in t)o.setAttribute(e,t[e]);return this},JNode.prototype.removeAttr=function(t){for(const e of this)e.removeAttribute(t);return this},JNode.prototype.data=function(t=null,e=null){for(const n of this){if(null===t)return n.dataset;if(null===e){if("string"==typeof t)return n.dataset[JMain.toCamelCase(t)];for(let e in t)n.dataset[JMain.toCamelCase(e)]=t[e]}else n.dataset[JMain.toCamelCase(t)]=e}return this},JNode.prototype.removeData=function(t){for(const e of this)if(Array.isArray(t))for(const n in t)delete e.dataset[JMain.toCamelCase(t[n])];else{if(t.includes(" "))return this.removeData(t.split(" "));delete e.dataset[JMain.toCamelCase(t)]}return this},JNode.prototype.prop=function(t,e=null){for(const[n,o]of this.entries())if(null===e){if("string"==typeof t)return o[t];for(let e in t)o[e]=t[e]}else o[t]="function"==typeof e?e.call(o,n,o[t]):e;return this},JNode.prototype.removeProp=function(t){return this.removeAttr(t)},JNode.prototype.val=function(t=null){for(const[e,n]of this.entries()){if(null===t){if("SELECT"===n.nodeName&&n.multiple){const t=[];for(let e of Array.from(n.querySelectorAll("option:checked")))t.push(e.value);return t}return n.value}if("function"==typeof t)n.value=t.call(n,e,n.value);else if(Array.isArray(t))for(let e of Array.from(n.querySelectorAll("option")))e.selected=t.includes(e.value);else n.value=t}return this},JNode.prototype.css=function(t,e=null){if(null===e){if("string"==typeof t)return JMain._internal.getComputedCss(this,t);if(Array.isArray(t)){for(const e of this){const n={};for(const o in t)n[t[o]]=JMain._internal.getComputedCss(e,t[o]);return n}return{}}for(const e of this)for(const n in t)e.style[JMain.toCamelCase(n)]=t[n]}else if("function"==typeof e)for(const[n,o]of this.entries())o.style[JMain.toCamelCase(t)]=e.call(o,n,JMain._internal.getComputedCss(o,t));else for(const n of this)n.style[JMain.toCamelCase(t)]=e;return this},JNode.prototype.height=function(t=null){if("function"==typeof t){for(const[e,n]of this.entries()){const o=(new JNode).add(n);o.height(t.call(n,e,o.height()))}return this}if(null!==t)return this.css("height",t);for(const t of this){if(t===window||t===document)return window.innerHeight;{const e=parseFloat(JMain._internal.getComputedCss(t,"height"));return 0!==t.offsetHeight||isNaN(e)?parseFloat(t.offsetHeight)-parseFloat(JMain._internal.getComputedCss(t,"paddingTop"))-parseFloat(JMain._internal.getComputedCss(t,"paddingBottom"))-parseFloat(JMain._internal.getComputedCss(t,"borderTopWidth"))-parseFloat(JMain._internal.getComputedCss(t,"borderBottomWidth")):e}}return 0},JNode.prototype.width=function(t=null){if("function"==typeof t){for(const[e,n]of this.entries()){const o=(new JNode).add(n);o.width(t.call(n,e,o.width()))}return this}if(null!==t)return this.css("width",t);for(const t of this){if(t===window||t===document)return window.innerWidth;{const e=parseFloat(JMain._internal.getComputedCss(t,"width"));return 0!==t.offsetWidth||isNaN(e)?parseFloat(t.offsetWidth)-parseFloat(JMain._internal.getComputedCss(t,"paddingLeft"))-parseFloat(JMain._internal.getComputedCss(t,"paddingRight"))-parseFloat(JMain._internal.getComputedCss(t,"borderLeftWidth"))-parseFloat(JMain._internal.getComputedCss(t,"borderRightWidth")):e}}return 0},JNode.prototype.innerHeight=function(t=null){if("function"==typeof t){for(const[e,n]of this.entries()){const o=(new JNode).add(n);o.innerHeight(t.call(n,e,o.innerHeight()))}return this}if(null!==t){for(const e of this){const n=(new JNode).add(e);n.height(t).height(2*n.height()-n.innerHeight())}return this}for(const t of this){if(t===window||t===document)return window.innerHeight;{const e=parseFloat(JMain._internal.getComputedCss(t,"height"));return 0!==t.offsetHeight||isNaN(e)?parseFloat(t.offsetHeight)-parseFloat(JMain._internal.getComputedCss(t,"borderTopWidth"))-parseFloat(JMain._internal.getComputedCss(t,"borderBottomWidth")):e+parseFloat(JMain._internal.getComputedCss(t,"paddingTop"))+parseFloat(JMain._internal.getComputedCss(t,"paddingBottom"))}}return 0},JNode.prototype.innerWidth=function(t=null){if("function"==typeof t){for(const[e,n]of this.entries()){const o=(new JNode).add(n);o.innerWidth(t.call(n,e,o.innerWidth()))}return this}if(null!==t){for(const e of this){const n=(new JNode).add(e);n.width(t).width(2*n.width()-n.innerWidth())}return this}for(const t of this){if(t===window||t===document)return window.innerWidth;{const e=parseFloat(JMain._internal.getComputedCss(t,"width"));return 0!==t.offsetWidth||isNaN(e)?parseFloat(t.offsetWidth)-parseFloat(JMain._internal.getComputedCss(t,"borderLeftWidth"))-parseFloat(JMain._internal.getComputedCss(t,"borderRightWidth")):e+parseFloat(JMain._internal.getComputedCss(t,"paddingLeft"))+parseFloat(JMain._internal.getComputedCss(t,"paddingRight"))}}return 0},JNode.prototype.outerHeight=function(t=null,e=null){if("function"==typeof t){for(const[n,o]of this.entries()){const i=(new JNode).add(o);i.outerHeight(t.call(o,n,i.outerHeight(e)),e)}return this}if(null!==e||null!==t&&"boolean"!=typeof t){for(const n of this){const o=(new JNode).add(n);o.height(t).height(2*o.height()-o.outerHeight(e))}return this}for(const e of this){if(e===window||e===document)return window.outerHeight;{const n=parseFloat(JMain._internal.getComputedCss(e,"height"));return(0!==e.offsetHeight||isNaN(n)?parseFloat(e.offsetHeight):n+parseFloat(JMain._internal.getComputedCss(e,"paddingTop"))+parseFloat(JMain._internal.getComputedCss(e,"paddingBottom"))+parseFloat(JMain._internal.getComputedCss(e,"borderTopWidth"))+parseFloat(JMain._internal.getComputedCss(e,"borderBottomWidth")))+(t?parseFloat(JMain._internal.getComputedCss(e,"marginTop"))+parseFloat(JMain._internal.getComputedCss(e,"marginBottom")):0)}}return 0},JNode.prototype.outerWidth=function(t=null,e=null){if("function"==typeof t){for(const[n,o]of this.entries()){const i=(new JNode).add(o);i.outerWidth(t.call(o,n,i.outerWidth(e)),e)}return this}if(null!==e||null!==t&&"boolean"!=typeof t){for(const n of this){const o=(new JNode).add(n);o.width(t).width(2*o.width()-o.outerWidth(e))}return this}for(const e of this){if(e===window||e===document)return window.outerWidth;{const n=parseFloat(JMain._internal.getComputedCss(e,"width"));return(0!==e.offsetWidth||isNaN(n)?parseFloat(e.offsetWidth):n+parseFloat(JMain._internal.getComputedCss(e,"paddingLeft"))+parseFloat(JMain._internal.getComputedCss(e,"paddingRight"))+parseFloat(JMain._internal.getComputedCss(e,"borderLeftWidth"))+parseFloat(JMain._internal.getComputedCss(e,"borderRightWidth")))+(t?parseFloat(JMain._internal.getComputedCss(e,"marginLeft"))+parseFloat(JMain._internal.getComputedCss(e,"marginRight")):0)}}return 0},JNode.prototype.show=function(){for(const t of this)t.dataset.jqreInitialDisplay?(t.style.display=t.dataset.jqreInitialDisplay,delete t.dataset.jqreInitialDisplay):"none"===JMain._internal.getComputedCss(t,"display")?t.style.display="initial":t.style.display="";return this},JNode.prototype.hide=function(){for(const t of this)"none"!==t.style.display&&(t.dataset.jqreInitialDisplay=JMain._internal.getComputedCss(t,"display")),t.style.display="none";return this},JNode.prototype.toggle=function(){for(const t of this)"none"===JMain._internal.getComputedCss(t,"display")?t.dataset.jqreInitialDisplay?(t.style.display=t.dataset.jqreInitialDisplay,delete t.dataset.jqreInitialDisplay):t.style.display="initial":(t.dataset.jqreInitialDisplay=JMain._internal.getComputedCss(t,"display"),t.style.display="none");return this};